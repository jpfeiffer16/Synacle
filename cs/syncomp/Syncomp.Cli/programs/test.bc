#include "./lib/stdlib.bc"

function defer(string name, func<void> cb)
{
    cb();
}

function test_str(int val) : int
{
    println("Test");
    return val;
}

defer("1", () => {
    defer("2", () => {
        defer("3", () => {
            defer("4", () => {
                test_str(test_str(123));
            });
        });
    });
});

